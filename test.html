<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>简单测试页面</title>
    <style>
        :root {
            --bg: #f7f7fb;
            --card: #ffffff;
            --text: #111827;
            --accent: #2563eb;
        }
        [data-theme="dark"] {
            --bg: #0b1220;
            --card: #0f1724;
            --text: #e6eef8;
            --accent: #60a5fa;
        }
        html,body { height:100%; margin:0; font-family: Inter, system-ui, Arial, sans-serif; background:var(--bg); color:var(--text); }
        .wrap { max-width:900px; margin:40px auto; padding:20px; }
        header { display:flex; align-items:center; justify-content:space-between; gap:12px; }
        h1 { margin:0; font-size:1.5rem; }
        .card { background:var(--card); padding:16px; border-radius:10px; box-shadow:0 6px 18px rgba(8,15,30,0.06); margin-top:16px; }
        .controls { display:flex; gap:8px; flex-wrap:wrap; }
        button { background:var(--accent); color:white; border:0; padding:8px 12px; border-radius:8px; cursor:pointer; }
        button.secondary { background:#e5e7eb; color:#111; }
        .result { margin-top:12px; font-weight:600; }
        input[type="text"] { padding:8px; border-radius:8px; border:1px solid #d1d5db; width:220px; }
        footer { margin-top:20px; font-size:0.9rem; color:rgba(0,0,0,0.6); }
        .time { font-family: monospace; padding:6px 10px; background:rgba(0,0,0,0.04); border-radius:6px; display:inline-block; }
    </style>
</head>
<body>
    <div class="wrap" id="root">
        <header>
            <h1>测试页面</h1>
            <div class="controls">
                <button id="themeToggle">切换主题</button>
                <button id="openExample" class="secondary">打开 example.com</button>
            </div>
        </header>

        <section class="card" aria-labelledby="form-title">
            <h2 id="form-title" style="margin-top:0;font-size:1.05rem">表单测试</h2>
            <form id="testForm">
                <label>
                    输入文本：
                    <input type="text" id="textInput" placeholder="在此输入..." required />
                </label>
                <button type="submit">提交</button>
            </form>
            <div class="result" id="result">尚未提交。</div>
        </section>

        <section class="card" style="display:flex; gap:16px; align-items:center; margin-top:12px">
            <div>
                <div>当前时间：</div>
                <div class="time" id="clock">--:--:--</div>
            </div>
            <div>
                <div>随机测试按钮：</div>
                <button id="randomBtn">生成随机数</button>
                <div id="randomResult" style="margin-top:8px;font-weight:600">--</div>
            </div>
        </section>

        <footer>
            控制台会输出调试信息。页面仅用于本地/开发测试。
        </footer>
    </div>

    <script>
        // 基本交互：表单、主题切换、时钟、随机数与新窗口
        const root = document.documentElement;
        const themeToggle = document.getElementById('themeToggle');
        const openExample = document.getElementById('openExample');
        const testForm = document.getElementById('testForm');
        const textInput = document.getElementById('textInput');
        const result = document.getElementById('result');
        const clock = document.getElementById('clock');
        const randomBtn = document.getElementById('randomBtn');
        const randomResult = document.getElementById('randomResult');

        // 主题切换（保存在 localStorage）
        const THEME_KEY = 'demo-theme';
        function applyTheme(t) { document.documentElement.setAttribute('data-theme', t); }
        const saved = localStorage.getItem(THEME_KEY) || 'light';
        applyTheme(saved);
        themeToggle.addEventListener('click', () => {
            const next = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            applyTheme(next);
            localStorage.setItem(THEME_KEY, next);
            console.log('主题切换为', next);
        });

        // 打开新窗口
        openExample.addEventListener('click', () => {
            window.open('https://example.com', '_blank', 'noopener');
            console.log('打开 example.com');
        });

        // 表单提交（阻止默认刷新）
        testForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const v = textInput.value.trim();
            if (!v) {
                result.textContent = '请输入非空文本。';
                return;
            }
            result.textContent = '提交内容：' + v;
            console.log('表单提交：', v);
            textInput.value = '';
        });

        // 时钟
        function updateClock() {
            const now = new Date();
            const s = now.toLocaleTimeString();
            clock.textContent = s;
        }
        updateClock();
        setInterval(updateClock, 1000);

        // 随机数
        randomBtn.addEventListener('click', () => {
            const n = (Math.random() * 100).toFixed(3);
            randomResult.textContent = n;
            console.log('随机数：', n);
        });

        // 初始日志
        console.log('测试页面已加载');
    </script>
</body>
</html>